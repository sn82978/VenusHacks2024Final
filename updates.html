<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poetsen+One&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
  </style>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Location Selector</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Nav bar -->
<div>
  <nav>
    <ul>
      <li><a href="index.html"><img src="Logo.PNG" alt="Logo"></a></li>
      <li class="special-li"><a href="leaflet.html">Navigation</a></li>
      <li class="special-li"><a href="events.html">Events</a></li>
      <li class="special-li"><a href="updates.html">Updates</a></li>
      <li class="special-li"><a href="sos.html">SOS</a></li>
    </ul>
  </nav>
</div>

<!-- Dropdown selection -->

<h1>Select a Location to Update</h1>
<div class="updates">
  <select id="columnSelect">
    <option value="Cross Cultural Center">Cross Cultural Center</option>
    <option value="Biological Sciences Lecture Hall">Biological Sciences Lecture Hall</option>
    <option value="Antill Pub and Grill">Antill Pub and Grill</option>
    <option value="Physical Sciences Lecture Hall">Physical Sciences Lecture Hall</option>
    <option value="Brandywine">Brandywine</option>
    <option value="Social Sciences Lab">Social Sciences Lab</option>
    <option value="Anteater Learning Pavilion">Anteater Learning Pavilion</option>
    <option value="Blood Donation Center">Blood Donation Center</option>
    <option value="UTC Taco Bell">UTC Taco Bell</option>
    <option value="Humanities Hall">Humanities Hall</option>
    <option value="Information and Computer Science 2">Information and Computer Science 2</option>
    <option value="Natural Sciences II">Natural Sciences II</option>
    <option value="Student Center">Student Center</option>
    <option value="Science Library">Science Library</option>
    <option value="Human Resources">Human Resources</option>
    <option value="Natural Sciences I">Natural Sciences I</option>
    <option value="Engineering Lecture Hall">Engineering Lecture Hall</option>
    <option value="Anteatery">Anteatery</option>
    <option value="Rowland Hall">Rowland Hall</option>
    <option value="Information and Computer Science">Information and Computer Science</option>
  </select>
  <button id="submitButton">Submit</button>
</div>
<p id="message" class="message">Submission Successful</p>

<script>
  // Function to handle the AJAX request
  function incrementColumn(columnName) {
    document.getElementById('message').style.display = 'block';

    fetch('incrementColumn.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        action: 'incrementColumn',
        columnName: columnName
      })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        document.getElementById('message').textContent = 'Column Incremented Successfully';
      } else {
        document.getElementById('message').textContent = 'Error';
        document.getElementById('message').style.color = 'red';
      }
    })
    .catch(error => {
      console.error('Error:', error);
      document.getElementById('message').textContent = 'Error';
      document.getElementById('message').style.color = 'red';
    });
  }

  // Event listener for the submit button
  document.getElementById('submitButton').addEventListener('click', function() {
    const selectedColumn = document.getElementById('columnSelect').value;
    incrementColumn(selectedColumn);
  });
</script>

</body>
</html>
