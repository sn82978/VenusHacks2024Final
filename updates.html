<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poetsen+One&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
  </style>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Location Selector</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Nav bar -->
<div>
  <nav>
    <ul>
      <li><a href="leaflet.html">Navigation</a></li>
      <li><a href="events.html">Events</a></li>
      <li><a href="updates.html">Updates</a></li>
      <li><a href="sos.html">SOS</a></li>
    </ul>
  </nav>
</div>

<!-- Dropdown selection -->
<h1>Select a Location to Update</h1>
<select id="columnSelect">
  <option value="Cross_Cultural_Center">Cross Cultural Center</option>
  <option value="Biological_Sciences_Lecture_Hall">Biological Sciences Lecture Hall</option>
  <option value="Antill_Pub_and_Grill">Antill Pub and Grill</option>
  <option value="Physical_Sciences_Lecture_Hall">Physical Sciences Lecture Hall</option>
  <option value="Brandywine">Brandywine</option>
  <option value="Social_Sciences_Lab">Social Sciences Lab</option>
  <option value="Anteater_Learning_Pavilion">Anteater Learning Pavilion</option>
  <option value="Blood_Donation_Center">Blood Donation Center</option>
  <option value="UTC_Taco_Bell">UTC Taco Bell</option>
  <option value="Humanities_Hall">Humanities Hall</option>
  <option value="Information_and_Computer_Science_2">Information and Computer Science 2</option>
  <option value="Natural_Sciences_II">Natural Sciences II</option>
  <option value="Student_Center">Student Center</option>
  <option value="Science_Library">Science Library</option>
  <option value="Human_Resources">Human Resources</option>
  <option value="Natural_Sciences_I">Natural Sciences I</option>
  <option value="Engineering_Lecture_Hall">Engineering Lecture Hall</option>
  <option value="Anteatery">Anteatery</option>
  <option value="Rowland_Hall">Rowland Hall</option>
  <option value="Information_and_Computer_Science">Information and Computer Science</option>
</select>
<button id="submitButton">Submit</button>

<p id="message" class="message">Submission Successful</p>

<script>
  // Function to handle the AJAX request
  function incrementColumn(columnName) {
    document.getElementById('message').style.display = 'block';

    fetch('incrementColumn.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        action: 'incrementColumn',
        columnName: columnName
      })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        document.getElementById('message').textContent = 'Column Incremented Successfully';
      } else {
        document.getElementById('message').textContent = 'Error';
        document.getElementById('message').style.color = 'red';
      }
    })
    .catch(error => {
      console.error('Error:', error);
      document.getElementById('message').textContent = 'Error';
      document.getElementById('message').style.color = 'red';
    });
  }

  // Event listener for the submit button
  document.getElementById('submitButton').addEventListener('click', function() {
    const selectedColumn = document.getElementById('columnSelect').value;
    incrementColumn(selectedColumn);
  });
</script>

</body>
</html>
